

Let $F$ be a nonarchimedean local field, $G=\GL_2(F)$, and $B=\{\begin{psmallmatrix} *&*\\0&*\end{psmallmatrix}\}$ the Borel subgroup of upper triangular matrices, so that $B=N \rtimes T$ for $T=\{\begin{psmallmatrix}
    *&0\\0&*
\end{psmallmatrix}\} \cong F^\times \times F^\times$ and $N=\{\begin{psmallmatrix}
    1&*\\0&1
\end{psmallmatrix}\}\cong F$. Between $N$ and $B$ we also have the mirabolic subgroup $M=\{\begin{psmallmatrix}
    *&*\\0&1
\end{psmallmatrix}\}$ with $M/N \cong F^\times$.

In studying the local Langlands correspondence, we want to understand all the irreducible smooth representations of $G$. One method for producing representations of $G$ is by induction from a subgroup of $G$. Typically one takes this subgroup to be 'parabolic'; in our case there is one nontrivial parabolic, namely $B$. From our decomposition $B=N \rtimes T$ (more generally we have a so-called Levi decomposition) we see that we can produce representations of $B$ by inflating representations of the torus $T$. Since $T \cong F^\times \times F^\times$, the irreducible representations of $T$ are products of characters of $F^\times$, which are relatively easy to get a handle on.

\begin{defn}
    For $\chi:T \to \CC^\times$ a character of the torus, we call the process of inflating to $B$ followed by inducing to $G$ parabolic induction. The representation $\Ind_B^G \chi$ is a parabolically induced representation. A principal series representation is an irreducible subrepresentation of a parabolically induced representation.
\end{defn}

In this section, we will only concern ourselves with classifying the principal series representations of $G$. This means that we must understand how $\Ind_B^G \chi$ decomposes into irreducible representations of $G$, and also study the morphisms between them using Frobenius reciprocity.

To understand these decompositions, we want to study how they decompose into irreducibles over a less unwieldy subgroup of $G$, such as $B$. Note that restricting $\Ind_B^G \chi$ to $B$ is analogous to applying Mackey theory in the finite group context. It turns out that the $\Ind_B^G \chi$ do not decompose any further over $M$ than over $B$. On the other hand, the representation theory of $M$ is very easy to classify - the combination of these two observations is what makes the mirabolic subgroup so 'miraculous'. To get representations of $M$ we can induct from characters of $N$, or inflate from $M/N\cong F^\times$. There are many characters of $N\cong F$, in fact these are in bijection with $F$ under $a \mapsto \psi(a-)$, for $a \in F$ and any nontrivial character $\psi$ of $F$. The key property of $M$ is that conjugation by $M$ acts transitively on these characters $\psi$, which greatly simplifies the representation theory of $M$ coming via induction from $N$. The mirabolic $M$ is also small enough that this induction, together with the characters of $F^\times$, give all irreducible representations of $M$.

In this section, we begin by studying the representations of $N$ and introducing the Jacquet functor, before discussing representations of $M$. From there we determine that parabolically induced representations of $G$ decompose over $M$ with length at most 3. Theorem \ref{criterion} gives the decomposition of $\Ind_B^G \chi$ into irreducible representations of $G$, and then Theorem \ref{classify} lists the isomorphism classes of principal series representations. The presentation follows sections 8 and 9 of \cite{BH1}.

\subsection{Representations of $N$}

We first study the representation theory of $N \cong F$. This is an abelian group so, by Schur's lemma, all irreducible representations are characters (Corollary 2.6.2 \cite{BH1}). For finite abelian groups, any representation $V$ decomposes into a direct sum of characters. This is no longer true when $N\cong F$ is infinite, but it is still true that any vector in $V$ is nonzero in some quotient on which $N$ acts via a character. To formalise this, we define

\begin{notn}
    Let $V$ be a smooth representation of $N$ and $\theta$ a character of $N$. Let $V(\theta) \leq V$ be the subspace spanned by $\{n\cdot v - \theta(n)v \mid n \in N, v \in V\}$. Set $V_\theta = V/V(\theta)$ so that $N$ acts on $V_\theta$ by $\theta$. When $\theta$ is trivial we write $V(N)$ and $V_N$ respectively. 
\end{notn}

The following is a useful equivalent definition of $V(\theta)$:

\begin{lemma}\label{criteria N}
    The vector $v \in V$ lies in $V(\theta)$ if and only if 
    $$\int_{N_0} \theta(n)^{-1}  n \cdot v dn = 0$$
    for some compact open subgroup $N_0$ of $N$ (we restrict to compact opens for the integral to be well defined).
\end{lemma}
\begin{proof}
    \cite{BH1} Lemma 8.1.
\end{proof}

\begin{cor}\label{exact}
    The functor $V \mapsto V_\theta$ from representations of $N$ to complex vector spaces is exact.
\end{cor}
\begin{proof}
    One checks formally that the functor is right exact. For left exactness we need to show that if $f: V \hookrightarrow V'$ is injective then $V_\theta \hookrightarrow V'_\theta$ is injective. If $v \in V$ with $f(v) \in V'(\theta)$, then 
    $$\int_{N_0} \theta(n)^{-1}n \cdot f(v) dn = 0$$
    for some $N_0$ by the above lemma. Since $f$ is compatible with the action of $N$, we can pull $f$ out of the integral so that the injectivity of $f$ implies
    $$\int_{N_0} \theta(n)^{-1}n \cdot v dn = 0.$$
    We deduce that $v \in V(\theta)$ by the above lemma.
\end{proof}

\begin{prop}
    For any $v \neq 0$ in $V$, there exists a character $\theta$ of $N$ such that $v \not\in V(\theta)$.
\end{prop}
\begin{proof}
    \cite{BH1} Proposition 8.1.
\end{proof}

\begin{cor}\label{character}
    If $V$ is a smooth representation of $N$ such that $V_\theta=0$ for all $\theta$ then $V=0$.
\end{cor}


\subsection{Representations of $M$}

Now we consider $V$ an irreducible smooth representation of $M$. 

\begin{lemma}\label{coinvariants}
    The subspace $V(N) \leq V$ is a representation of $M$, and so $V_N$ is as well. The $V_\theta$ are conjugate under $M$ (so in particular are not representations of $M$). 
\end{lemma}
\begin{proof}
    The first line comes from the computation 
    $$mn\cdot v - m\cdot v = n'm\cdot v - m\cdot v$$ for some $n' \in N$, using the fact that $N \lhd M$. The second line is because conjugation by $M$ acts transitively on the nontrivial elements of $N$, and hence on the nontrivial characters of $N \cong F$, where we use the bijection $F \leftrightarrow \hat{F}$.
\end{proof}

So if $V$ is irreducible, either $V(N)=0$, so that $N$ acts trivially on $V$ and we just get a character of $F^\times$, or $V(N)=V$. In the latter case, $V_N=0$, so we must have $V_\theta \neq 0$ for all nontrivial characters of $N$ by the above Lemma and Corollary \ref{character}. Thus the $M$-representation $V$ must have infinite dimension. In fact there is only one such $V$, and we have more specifically:

\begin{thm}\label{inf dim}
    Let $(\pi,V)$ be an irreducible smooth representation of $M$. Either 
    \begin{itemize}
        \item $\dim V=1$ and $\pi$ is the inflation of a character of $M/N \cong F^\times$, or
        \item $\dim V = \infty$ and $\pi \cong c\mathrm{-Ind}_N^M \theta$, for any nontrivial character $\theta$ of $N$.
    \end{itemize}
\end{thm}
\begin{proof}
    Corollary 8.3 \cite{BH1}.
\end{proof}

This itself follows from the following theorem. To compare $V$ and $c\mathrm{-Ind}_N^M \theta$, it is more natural to compare $V$ and $\mathrm{Ind}_N^M V_\theta$. By Frobenius reciprocity,
$$\Hom_N(V,V_\theta) \cong \Hom_M(V,\mathrm{Ind}_N^M V_\theta).$$
Let $q_*: V \to \Ind_N^M(V_\theta)$ be the image of the quotient map $q: V \to V_\theta$.

\begin{thm}\label{mirabolic}
    The $M$-homomorphism $q_*: V \to \Ind_N^M V_\theta$ induces an isomorphism $V(N) \cong c\mathrm{-Ind}_N^M V_\theta$. The smooth representation $c\mathrm{-Ind}_N^M \theta$ of $M$ is irreducible. As mentioned earlier, it is infinite dimensional.
\end{thm}
\begin{proof}
    Theorem 8.3 and Corollary 8.2 of \cite{BH1}.
\end{proof}

% Do we want to add more detail to the above 2 subsections? 


\subsection{Irreducible principal series representations}

Let $V$ be a smooth representation of $G$. In the preceding subsections, we defined the quotient $V_N =V/V(N)$, called the $N$-coinvariants of $V$. As in Lemma \ref{coinvariants}, this is a representation of $B$ (as $N \lhd B$). As $N$ acts trivially on $V_N$, $V_N$ inherits the structure of a representation of $T=B/N$.

\begin{defn}
    Let $V$ be a smooth representation of $G$ (or $B$). The Jacquet module of $V$ at $N$ is the space of $N$-coinvariants $V_N$ viewed as a representation of $T$. The Jacquet functor is the functor sending the $G$-representation $(\pi,V)$ to the $T$-representation $(\pi_N,V_N)$. By Corollary \ref{exact}, the Jacquet functor is exact.
\end{defn}

In the classical setting of representations of $G=\GL_2(k)$ for a finite field $k$, we have the following dichotomy (where $B,T,N$ are the appropriate subgroups of $G$):
\begin{lemma}
    Let $(\pi,V)$ be an irreducible representation of $G$. The following are equivalent:
    \begin{enumerate}
        \item $\pi$ contains the trivial character of $N$
        \item $\pi$ is isomorphic to a $G$-subrepresentation of $\Ind_B^G \chi$ for some character $\chi$ of $T$ inflated to $B$.
    \end{enumerate}
\end{lemma}
\begin{proof}
    Lemma 6.3 of \cite{BH1}.
\end{proof}

Returning to $G=\GL_2(F)$, if $(\pi,V)$ is a smooth representation, the restriction to $N$ is no longer necessarily semisimple because $F$ is of infinite order. We instead replace the condition that $\pi |_N$ contains the trivial character of $N$ with the condition that $N$ acts trivially on some nonzero quotient of $V$ (which is an equivalent condition in the finite field case). This is measured by the Jacquet module $V_N$. There is the analogous dichotomy which tells us that principal series representations can be identified as the irreducible smooth representations of $G$ with nonzero Jacquet module: 

\begin{prop}
    Let $(\pi,V)$ be an irreducible smooth representation of $G$. The following are equivalent:
    \begin{enumerate}
        \item $V_N \neq 0$
        \item $\pi$ is isomorphic to a $G$-subrepresentation of $\Ind_B^G \chi$ for some character $\chi$ of $T$ inflated to $B$.
    \end{enumerate}
\end{prop}
\begin{proof}[Proof sketch]
    (2) implies (1) is a consequence of Frobenius reciprocity:
    $$\Hom_G(\pi,\Ind \chi) = \Hom_B(\pi, \chi) = \Hom_T(\pi_N,\chi)$$ where the second equality follows from observing that any $B$-homomorphism $\pi \to \chi$ is trivial on $N$, so factors through $\pi_N$.

    Given (1), one shows by a technical argument that $V_N$ is finitely generated as a representation of $T$. An application of Zorn's lemma allows us to construct a maximal $T$-subspace $U$ of $V_N$, so that $V_N/U$ is a nonzero irreducible $T$-representation, and is thus a character $\chi$ by Schur's lemma. The above Frobenius reciprocity implies (2).
\end{proof}

\begin{rem}
    The same proof holds for the finite field case, where we bypass the technical details in showing (1) implies (2) because any representation of the finite group $T$ admits an irreducible quotient.
\end{rem}

\begin{rem}
    We ask for a nonzero Jacquet module $V_N$ rather than a trivial $N$-subrepresentation of $V$ because of the following fact:
\end{rem}

\begin{lemma}
    Let $(\pi,V)$ be an irreducible smooth representation of $G$ with a nonzero vector $v\in V$ fixed by $N$. Then $\pi = \phi \circ \det$, for some character $\phi$ of $F^\times$. In particular, $\pi$ is one dimensional.
\end{lemma}
\begin{proof}[Proof sketch]
    The vector $v$ is fixed by $N$, but also by a compact open subgroup $K$ of $G$ by smoothness. As we are working with $F$ a nonarchimedean local field (as opposed to a finite field), this implies $K$ contains a unipotent lower triangular matrix, and one shows that $v$ is fixed by $\mathrm{SL}_2(F)$. Thus $\pi$ factors through $\det$.
\end{proof}


Once again, let $\chi$ be a character of $T$ and let $(\Sigma,X)$ denote $\Ind_B^G \chi$. We want to study how $X$ decomposes into irreducible $G$-representations. As mentioned earlier, we will begin by studying their decompositions over $B$ or even $M$. 

To begin with, $X$ will never be irreducible over $B$ because we always have the canonical $B$-homomorphism $\Sigma \to \chi$, given by sending $f \mapsto f(1) \in \CC$. So we have an exact sequence of $B$-representations
$$\xymatrix{0 \ar[r] & V \ar[r] & X \ar[r] & \CC \ar[r] & 0,}$$
where $V=\{f \in X  \mid f(1)=0\}$, and $B$ acts on $\CC$ via $\chi$. Now we want to understand how $V$ decomposes over $B$. We have another exact sequence of $B$-representations,
$$\xymatrix{0 \ar[r] & V(N) \ar[r] & V \ar[r] & V_N \ar[r] & 0,}$$
so we reduce to studying $V(N)$ and $V_N$. We will show that $V(N)$ is irreducible over $B$ (and even over $M$), while $V_N$ will be determined by the Restriction-Induction lemma. 

%(which generally treats the exact sequence obtained by applying the Jacquet functor to the first exact sequence, where we may replace $\chi$ by any smooth representation $\sigma$ of $T$).

The following lemma makes the structure of $V$ more apparent.

\begin{lemma}\label{reduce to N}
    Let $V=\{f \in X:f(1)=0\}$. The map 
    \begin{equation*}
        \begin{split}
            V &\to C_c^\infty(N) \\
            f(-) &\mapsto f(w-) 
        \end{split}
    \end{equation*}
    is an $N$-isomorphism (with $N$ acting by right translation on either side), where $w=\begin{psmallmatrix}
        0&1\\1&0
    \end{psmallmatrix}$.
\end{lemma}
\begin{proof}
    We have the Bruhat decomposition $G=B \sqcup BwN$. Since $f(1)=0$, and $f$ is induced from $B$, we must have that $f$ is supported on $BwN$. $G$-smoothness of $f$ implies that $f$ is also zero on some compact open $K \leq G$. This will contain $\begin{psmallmatrix}
        1&0\\\varpi^n \mathcal O &1
    \end{psmallmatrix}$ for some $n$, so that $f$ vanishes on 
    $$\begin{pmatrix}
        1&0\\x&1
    \end{pmatrix} \in Bw \begin{pmatrix}
        1&x^{-1}\\0&1
    \end{pmatrix}$$
    for all $x \in \varpi^n \mathcal O$. Thus $f(w-)$ is supported on $\begin{psmallmatrix}
        1&y\\0&1
    \end{psmallmatrix} \in N$ with $v(y) > -n$ and so is compactly supported. $G$-smoothness of $f$ also implies that $f(w-)$ is $N$-smooth. Since $f$ is induced from $B$ and is supported on $BwN$, the map is injective. Conversely, any $g \in C_c^\infty(N)$ determines $f \in \Ind_B^G \chi$ such that $f(w-)=g$ and $f(B)=0$.
\end{proof}

\begin{prop}
    For $V$ as above, $V(N)$ is irreducible over $M$ (and hence over $B$). Moreover, $V(N)$ is infinite dimensional.
\end{prop}
\begin{proof}
    The idea will be to use Theorem \ref{mirabolic}, which tells us $V(N) \cong c\mathrm{-Ind}_N^M V_\theta$. This is irreducible over $M$ (and infinite dimensional) if we can show that $V_\theta$ is one dimensional, by the same theorem.

    By the above lemma we can identify $V \cong C_c^\infty(N)$ as $N$-representations. But $M$ also acts via right translation on $V$ (since $BwB=BwN=BwM$), which gives the structure of a $M$-representation on $C_c^\infty(N)$. We can calculate it explicitly (but we won't need it), where
    $$f\left(bw\begin{pmatrix}
        1&x\\0&1
    \end{pmatrix}\begin{pmatrix}
        a&0\\0&1
    \end{pmatrix}\right) = f\left(b \begin{pmatrix}
        1&0\\0&a
    \end{pmatrix}w\begin{pmatrix}
        1&a^{-1}x\\0&1
    \end{pmatrix}\right)$$
    tells us that the corresponding $M=F^\times N$ action on $C_c^\infty(N)$ is the composite of right translation by $N$ with the action 
    $$a\cdot \phi \begin{pmatrix}
        1&x\\0&1
    \end{pmatrix} = \chi_2(a) \phi \begin{pmatrix}
        1&a^{-1}x \\ 0&1
    \end{pmatrix}$$ of $a \in F^\times$.

    So now we may consider $V=C_c^\infty(N)$. The benefit is that for this representation, the spaces of coinvariants of characters $\theta$ of $N$ are very simple. In particular, the map $f \mapsto \theta f$ is a linear automorphism of $C_c^\infty(N)$ taking $V(N)$ to $V(\theta)$, since $$n \cdot f - f \mapsto \theta (n \cdot f) - \theta f = \theta(n)^{-1} n \cdot (\theta f) - \theta f \in V(\theta).$$
    Hence all the $V_\theta$ have the same dimension as $V_N=V/V(N)$, which has dimension 1 (we can see this from the characterisation of $V(N)$ as the zeros of some integral (Lemma \ref{criteria N}), or from the Restriction-Induction lemma to follow). The result follows from Theorem \ref{mirabolic}.
\end{proof}

We turn our attention to the Jacquet module $V_N$. Recall $V$ fits in the exact sequence
$$\xymatrix{0 \ar[r] & V \ar[r] & X = \mathrm{Ind}_B^G \chi \ar[rr]^{f \mapsto f(1)} && \CC \ar[r] & 0}$$ of smooth representations of $B$, where $B$ acts via $\chi$ on $\CC$. Since the Jacquet functor is exact, we get the exact sequence

$$\xymatrix{0 \ar[r] & V_N \ar[r] & X_N \ar[r] & \CC \ar[r] & 0}$$ of $T$-representations. The following lemma determines the structure of $V_N$ as a $T$-representation. This can be stated in more generality:

\begin{lemma}[Restriction-Induction lemma]
    Let $(\sigma, U)$ be a smooth representation of $T$ and $(\Sigma, X) = \mathrm{Ind}_B^G \sigma$. Then there is an exact sequence of smooth $T$ representations:
    $$\xymatrix{0 \ar[r] & \sigma^w \otimes \delta_B^{-1} \ar[r] & \Sigma_N \ar[r] & \sigma \ar[r] & 0.}$$
    Here, $\sigma^w(t) := \sigma(wtw)$ for $w=\begin{psmallmatrix}
        0&1\\1&0
    \end{psmallmatrix}$, so that if $\sigma$ is the character $\chi_1 \otimes \chi_2$ of $T$, then $\sigma^w = \chi_2\otimes \chi_1$.
\end{lemma}
\begin{proof}
    The proof of Lemma \ref{reduce to N} generalises to show that the vector space $V = \{f \in X \mid f(1)=0\}$ is isomorphic, as $N$-representations, to the space $\mathcal S$ of smooth compactly supported functions $N \to U$, by identifying $f$ with $f(w-)$.



    We can define a map $\mathcal S \to U$ by 
    $$g=f(w-) \mapsto \int_N f(wn) dn,$$ where this integral is finite since $g$ is compactly supported. By Lemma \ref{criteria N}, this induces an isomorphism $\mathcal S_N \cong U$.


    Now $V$ also carries the structure of a $B$-representation as well, since $BwB=BwN$. We can repeat the same calculation as in the previous proposition, replacing $F^\times$ with $T\cong F^\times \times F^\times$, to compute the action of $B=TN$ on $\mathcal S$. As usual, $N$ acts via right translation. If $t=\begin{psmallmatrix}
        t_1&0 \\0 & t_2
    \end{psmallmatrix} \in T$, then for $\phi \in \mathcal S$, 
    $$t\cdot \phi \begin{pmatrix}
        1&x\\0&1
    \end{pmatrix} = \sigma^w(t) \phi \begin{pmatrix}
        1&\frac{t_2}{t_1}x \\ 0&1
    \end{pmatrix}.$$

    Thus the $T$-representation structure on $U \cong \mathcal S_N \cong V_N$ is given by 

    $$t \cdot \int_N f(wn)dn = \sigma^w(t) \left| \frac{t_1}{t_2} \right| \int_N f(wn)dn,$$
    which is $\sigma^w \otimes \delta_B^{-1}$.
\end{proof}

\begin{cor}
    As a representation of $B$ or $M$, $\mathrm{Ind}_B^G \chi$ has composition length 3. Two of the factors have dimension 1, and the other is infinite dimensional.
\end{cor}
\begin{proof}
    This follows from the exact sequences
    $$\xymatrix{0 \ar[r] & V \ar[r] & \mathrm{Ind}_B^G \CC \ar[r] & \chi \ar[r] & 0}$$
    and
    $$\xymatrix{0 \ar[r] & V(N) \ar[r] & V \ar[r] & V_N \ar[r] & 0}$$
    where we saw that $V(N)$ is irreducible and infinite dimensional, and $V_N \cong \chi^w \otimes \delta_B^{-1}$.
\end{proof}

So we understand how $\mathrm{Ind}_B^G \chi$ decomposes into irreducible $B$-representations, and we want to understand its decomposition into $G$-representations. Our goal is to prove the following:

\begin{thm}[Irreducibility Criterion]\label{criterion}
    Let $\chi = \chi_1 \otimes \chi_2$ be a character of $T$ and let $X = \mathrm{Ind}_B^G \chi$.
    \begin{enumerate}
        \item $X$ is irreducible if and only if $\chi_1\chi_2^{-1}$ is either the trivial character of $F^\times$, or the character $x \mapsto |x|^2$ of $F^\times$.
        \item Suppose $X$ is reducible, then \begin{itemize}
            \item the $G$-composition length of $X$ is 2
            \item one factor has dimension 1, the other is infinite dimensional
            \item $X$ has a 1-dimensional $G$-subspace exactly when $\chi_1\chi_2^{-1}=1$
            \item $X$ has a 1-dimensional $G$-quotient exactly when $\chi_1\chi_2^{-1}(x) = |x|^2$.
        \end{itemize}
    \end{enumerate}
\end{thm}

We make some comments in preparation for the proof. By the above Corollary, if $X$ is reducible then it has a finite dimensional (dimension 1 or 2) $G$-subspace or $G$-quotient. By taking duals we can assume we are in the first case. In the Irreducibility Criterion, we want to show that this implies $\chi_1 = \chi_2$ and that $X$ has a 1-dimensional $G$-subspace.

\begin{defn}
    Let $\pi$ be a smooth representation of $G$ and $\phi$ a character of $F^\times$. The twist of $\pi$ by $\phi$ is the representation $\phi\pi$ of $G$ defined by 
    $$\phi \pi(g) = \phi (\det g)\pi(g).$$
    In this way, for a character $\chi=\chi_1 \otimes \chi_2$ of $T$, we have $\phi\chi = \phi\chi_1 \otimes \phi\chi_2$. Then 
    $$\mathrm{Ind}_B^G(\phi\chi) = \phi \mathrm{Ind}_B^G \chi.$$
\end{defn}

\begin{prop}
    The following are equivalent:
    \begin{enumerate}
        \item $\chi_1=\chi_2$
        \item $X$ has a 1-dimensional $N$-subspace.
    \end{enumerate}
    If this holds then this subspace is unique, and is also a $G$-subspace of $X$ not contained in $V$.
\end{prop}
\begin{proof}
    (1) implies (2): since induction commutes with twisting we may assume $\chi_1=\chi_2=1$, then the nonzero constant function spans a 1-dimensional $G$-subspace (not just $N$-subspace) of $X = \mathrm{Ind}_B^G 1$.

    (2) implies (1): suppose this subspace is spanned by $f$. $N$ acts by right translation as a character. We cannot have $f \in V$ ($f(1)=0$) else we earlier saw that $f$ would then have support in some $BwN_0$ for $N_0 \leq N$ open compact, and this is not closed under multiplication by $N$.

    So $f \not\in V$ ($f(1) \neq 0$) and so its image spans $X/V \cong \CC$ on which $N$ acts trivially (since we inflate $\chi$ to be trivial on $N$). Thus $N$ fixes $f$ under right translation. $f$ is also fixed under right translation by some compact open of $G$, so for sufficiently large $|x|$ we have
    \begin{equation*}
        \begin{split}
            f(w) = f\left(w \begin{psmallmatrix}
                1&x \\0 & 1
            \end{psmallmatrix}\right) &= f\left( \begin{psmallmatrix}
                1&x^{-1} \\0 & 1
            \end{psmallmatrix}\begin{psmallmatrix}
                -x^{-1}&0 \\0 & x
            \end{psmallmatrix}\begin{psmallmatrix}
                1&0 \\x^{-1} & 1
            \end{psmallmatrix}\right) \\
            &= f\left( \begin{psmallmatrix}
                1&x^{-1} \\0 & 1
            \end{psmallmatrix}\begin{psmallmatrix}
                -x^{-1}&0 \\0 & x
            \end{psmallmatrix}\right) \\
            &= \chi_1(-1) \left( \chi_1^{-1}\chi_2(x)\right) f(1)
        \end{split}
    \end{equation*}
    For this to hold for all $|x|$ sufficiently large, it follows that we must have $\chi_1=\chi_2$ (if $\chi_1(y) \neq \chi_2(y)$ then $\chi_1(xy) \neq \chi_2(xy)$ for all sufficiently large $x$, but then $xy$ is also large). The uniqueness of the 1-dimensional subspace comes from the fact that it must span $X/V \cong \CC$. 
\end{proof}

\begin{proof}[Proof of Irreducibility Criterion]
    Assume that $X$ is reducible and we are in the case that $X$ has a finite dimensional $G$-subspace. Then it has a 1-dimensional $N$-subspace $L$, which is also a $G$ subspace by the above Proposition with $G$ acting via $\phi \circ \det$, where $\phi=chi_1=\chi_2$. Since $L \cap V =0$, we see that $Y=X/L \cong V$ as $B$-representations. We need to show $X$ has $G$-length 2. By the previous corollary it has length at most 3. We know that $V$ has $B$-length 2 with a 1-dimensional quotient $V_N$. Thus if $Y$ had $G$-length 2, then the $B$-factors of $V$ are also $G$-factors, so that $G$ must act on $V_N$, necessarily by a character $\phi' \circ \det$ (see 9.2 Exercise 2). But this is impossible because $B \leq G$ acts by $\phi \delta_B^{-1}$ by restriction-induction, and this does not factor through $\det$ on $B$. So we must have that $X$ has $G$-length 2.

    In the other case we have a finite dimensional $G$-quotient. The smooth dual $X^\vee$ is then in the first case, where the Duality Theorem tells us $X^\vee \cong \mathrm{Ind}_B^G \delta_B^{-1} \chi^\vee$. If we write $\delta_B^{-1} \chi^\vee = \psi_1 \otimes \psi_2$ then we must have $\psi_1 = \psi_2$. The result follows from computing $\psi_1(x) = |x|^{-1} \chi_1(x)$ and $\psi_2(x) = |x| \chi_2(x)$.

    The converse direction to (1) follows from the previous Proposition.
\end{proof}


\subsection{Classification of principal series representations}


Now that we've seen how parabolically induced representations decompose into irreducibles, we want to classify the isomorphism classes.

\begin{prop}
    Let $\chi, \xi$ be characters of $T$. The space $\Hom_G(\mathrm{Ind}_B^G \chi, \Ind_B^G \xi)$ is 1-dimensional if $\xi = \chi$ or $\chi^w \delta_B^{-1}$ and 0 otherwise.
\end{prop}
\begin{proof}
    Frobenius reciprocity tells us
    $$\Hom_G(\mathrm{Ind}_B^G \chi, \Ind_B^G \xi) \cong \Hom_T((\Ind \chi)_N, \xi).$$
    From restriction-induction we have
    $$\xymatrix{0 \ar[r] & \chi^w \delta_B^{-1} \ar[r] & (\Ind \chi)_N \ar[r] & \chi \ar[r] & 0.}$$
    In the case $\chi \neq \chi^w \delta_B^{-1}$ the sequence splits and the result follows. If $\chi = \chi^w \delta_B^{-1}$ then $\chi_1\chi_2^{-1} (x) = |x|$ so $\Ind \chi$ is irreducible and the result still follows.
\end{proof}

\begin{rem}
Hence, in the case $\Ind \chi$ is irreducible, we have $\Ind \chi \cong \Ind \chi^w \delta_B^{-1}$.

And in the case $\Ind \chi$ is reducible, it is not semisimple, else the Hom space would be 2-dimensional.
\end{rem}

We can be more explicit in the reducible case. One can check that the conditions in the Irreducibility Criterion of reducibility are equivalent to $\chi$ being of the form $\chi = \phi 1_T$ or $\chi =\phi \delta_B^{-1}$. Untwisting, we may as well assume $\phi=1$.

\begin{defn}
    The Steinberg representation is defined by the exact sequence
    $$\xymatrix{0 \ar[r] & 1_G \ar[r] & \Ind_B^G 1_T \ar[r] & \mathrm{St}_G \ar[r] & 0}$$ which is an infinite dimensional irreducible representation with Jacquet module $(\mathrm{St}_G)_N \cong \delta_B^{-1}$ by restriction-induction. If $\chi =\phi 1_T$ we would instead get a twist of Steinberg, $\phi \mathrm{St}_G$.
\end{defn}

The case $\chi = \delta_B^{-1}$ can be dealt with by taking smooth duals (which is exact (Lemma 2.10 of Bushnell-Henniart) and preserves irreducibles (by checking on $V^K$)) to get 
$$\xymatrix{0 \ar[r] & \mathrm{St}_G^\vee \ar[r] & \Ind_B^G \delta_B^{-1} \ar[r] & 1_G \ar[r] & 0}$$
The Proposition applied to $\chi = 1$ then implies
$$\mathrm{St}_G \cong \mathrm{St}_G^\vee.$$

\begin{notn}
    Define normalised induction by
    $$\iota_B^G \sigma = \Ind_B^G (\delta_B^{-1/2} \otimes \sigma).$$
    This has the benefit that $(\iota_B^G \sigma)^\vee \cong \iota_B^G \sigma^\vee$.
\end{notn}

\begin{thm}[Classification Theorem]\label{classify}
    The following are all the isomorphism classes of principal series representations of $G$:
    \begin{itemize}
        \item the irreducible induced representations $\iota_B^G \chi$ when $\chi \neq \phi \delta_B^{\pm 1/2}$ for a character $\phi$ of $F^\times$.
        \item the one-dimensional representations $\phi \circ \det$ for $\phi$ a character of $F^\times$.
        \item the twists of Steinberg (special representations) $\phi \mathrm{St}_G$ for $\phi$ a character of $F^\times$.
    \end{itemize}
    These are all distinct isomorphism classes except in the first case where $\iota_B^G \chi \cong \iota_B^G \chi^w$.
\end{thm}